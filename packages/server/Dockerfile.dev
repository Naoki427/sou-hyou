FROM node:20-alpine
WORKDIR /app

COPY package.json pnpm-lock.yaml* .npmrc* ./
RUN corepack enable && corepack prepare pnpm@9.6.0 --activate && pnpm i

COPY . .
EXPOSE 4000
CMD ["pnpm", "dev"]
